"use strict";(self.webpackChunklearn_jp=self.webpackChunklearn_jp||[]).push([[688,39],{688:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var n=a(43),r=a(39),s=a(297);const l=e=>{const[t,a]=(0,n.useState)(),[r,l]=(0,n.useState)(!1),o=(0,n.useRef)([]);return(0,n.useEffect)((()=>{(async()=>{try{const t=await s.A.getVocabulary(e);a(t.data)}catch(t){console.log(t)}finally{l(!1)}})()}),[e]),{data:t,loading:r,chapterRef:o}};var o=a(533),c=a(641),i=a(579);const d=e=>{var t,a;let{level:n}=e;const{data:s,loading:d,chapterRef:u}=l(n);return d||!s?(0,i.jsx)(o.A,{}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"list-heading",children:"List of Vocabulary"}),(0,i.jsx)("h3",{className:"list-heading",children:"Go to Chapter"}),null===(t=Array.from({length:25},((e,t)=>t+c.d[n])))||void 0===t?void 0:t.map((e=>(0,i.jsx)("button",{className:"chapter-button",onClick:()=>window.scrollTo({top:u.current[e].offsetTop,behavior:"smooth"}),children:e},e))),null===(a=Object.keys(s))||void 0===a?void 0:a.map(((e,t)=>(0,i.jsx)("div",{className:"list",ref:t=>u.current[e]=t,children:(0,i.jsx)(r.default,{dataValues:s[e],heading:"Chapter ".concat(e),mainKey:"jp",noShowKeys:["lesson","type"]})},t)))]})})}},297:(e,t,a)=>{a.d(t,{A:()=>m});var n=a(213);const r="http://localhost:8000/list/",s=r+"hiragana",l=r+"katakana",o=r+"katakana-reading",c=r+"adverbs",i=r+"e-adjective",d=r+"na-adjective",u=r+"particles",h=r+"vocabulary",y=r+"kanji",v=r+"common/time",g=r+"common/counting",p=r+"common/directions",m={getHiragana:async()=>{try{return await n.A.get(s)}catch(e){return console.error({error:e}),[]}},getKatakana:async()=>{try{return await n.A.get(l)}catch(e){return console.error({error:e}),[]}},getKatakanaReading:async()=>{try{return await n.A.get(o)}catch(e){return console.error({error:e}),[]}},getAdverbs:async e=>{try{let t=c;e&&(t+="?level=".concat(e));return await n.A.get(t)}catch(t){return console.error({error:t}),[]}},getEAdjective:async e=>{try{let t=i;e&&(t+="?level=".concat(e));return await n.A.get(t)}catch(t){return console.error({error:t}),[]}},getNaAdjective:async e=>{try{let t=d;e&&(t+="?level=".concat(e));return await n.A.get(t)}catch(t){return console.error({error:t}),[]}},getParticles:async e=>{try{let t=u;e&&(t+="?level=".concat(e));return await n.A.get(t)}catch(t){return console.error({error:t}),[]}},getVocabulary:async(e,t)=>{try{let a=h;e&&(a+="?level=".concat(e),t&&(a+="&lesson=".concat(t)));return await n.A.get(a)}catch(a){return console.error({error:a}),[]}},getKanji:async e=>{try{let t=y;e&&(t+="?level=".concat(e));return await n.A.get(t)}catch(t){return console.error({error:t}),[]}},getTime:async e=>{try{let t=v;e&&(t+="?level=".concat(e));return await n.A.get(t)}catch(t){return console.error({error:t}),[]}},getCounting:async e=>{try{let t=g;e&&(t+="?level=".concat(e));return await n.A.get(t)}catch(t){return console.error({error:t}),[]}},getDirections:async e=>{try{let t=p;e&&(t+="?level=".concat(e));return await n.A.get(t)}catch(t){return console.error({error:t}),[]}}}},39:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var n=a(43);const r=(e,t,a,r,s)=>{const[l,o]=(0,n.useState)(null),[c,i]=(0,n.useState)([]),[d,u]=(0,n.useState)(null),[h,y]=(0,n.useState)(void 0),[v,g]=(0,n.useState)(void 0),[p,m]=(0,n.useState)(!0);return(0,n.useEffect)((()=>{if(s)return i(s),void m(!1);if(!e)return;(async()=>{try{const a=await e(t);i(a.data)}catch(a){console.log(a)}finally{m(!1)}})()}),[e,t,s]),(0,n.useEffect)((()=>{if(c&&c.length&&(o(Object.keys(c[0]).filter((e=>e!==a&&!(Array.isArray(r)&&-1!==r.indexOf(e))))),-1!==Object.keys(c[0]).indexOf("type"))){const e=c.reduce(((e,t)=>(e[t.type]?e[t.type].push(t):e[t.type]=[t],e)),{});u(Object.keys(e).map((t=>({type:t,data:e[t]}))))}}),[c,a,r]),{data:c,keys:l,typedData:d,loading:p,index:h,currentType:v,handleCarousel:(e,t)=>{y(e),t&&g(t)}}},s=e=>{const t=new SpeechSynthesisUtterance(e);t.lang="ja-JP";const a=window.speechSynthesis.getVoices().filter((e=>"ja-JP"===e.lang));a.length>0&&(t.voice=a[0]),t.pitch=1.2,t.rate=.9,window.speechSynthesis.speak(t)};var l=a(639),o=a(154),c=a(533),i=a(579);const d=()=>(0,i.jsx)("div",{className:"error-page",children:"No Data to show"}),u=(e,t,a)=>{const[r,s]=(0,n.useState)(),[l,o]=(0,n.useState)(),[c,i]=(0,n.useState)(),[d,u]=(0,n.useState)(),[h,y]=(0,n.useState)(),[v,g]=(0,n.useState)(void 0);console.log({initialIndex:t,index:d,visibleData:h});const p=()=>{if(d>=1)u((e=>e-1)),y(c?e.filter((e=>e.type===c))[0].data[d-1]:e[d-1]);else if(l&&0!==l.indexOf(c)){const t=l.indexOf(c)-1,a=l[t],n=e.filter((e=>e.type===a))[0].data,r=n.length;i(a),s(r),u(r-1),y(n[r-1])}},m=()=>{if(d<=r-2)u((e=>e+1)),y(c?e.filter((e=>e.type===c))[0].data[d+1]:e[d+1]);else if(l&&l.indexOf(c)!==l.length-1){const t=l.indexOf(c)+1,a=l[t],n=e.filter((e=>e.type===a))[0].data;i(a),s(n.length),u(0),y(n[0])}};return(0,n.useEffect)((()=>{if(e&&e.length&&"number"===typeof t)if(u(t),a){i(a),o(null===e||void 0===e?void 0:e.map((e=>e.type)));const n=e.filter((e=>e.type===a))[0].data;s(n.length),y(n[t])}else s(e.length),y(e[t])}),[e,t,a]),{visibleData:h,handlePrev:p,handleNext:m,handleClose:()=>{u(null),i(null),o(null),s(null),y(null)},handleTouchStart:e=>{g(e.touches[0].clientX)},handleTouchEnd:e=>{const t=e.changedTouches[0].clientX,a=v-t;Math.abs(a)>50&&(a>0?m():p()),g(void 0)}}},h=e=>{var t;let{data:a,initialIndex:n,initialType:r,mainKey:o}=e;const{visibleData:c,handlePrev:d,handleNext:h,handleClose:y,handleTouchStart:v,handleTouchEnd:g}=u(a,n,r);return console.log({a:c?"yes":"no"}),c?(0,i.jsx)("div",{className:"modal-backdrop",children:(0,i.jsxs)("div",{className:"modal-container",children:[(0,i.jsxs)("div",{className:"modal-body",onTouchStart:v,onTouchEnd:g,children:[(0,i.jsx)(l.cAR,{size:20,onClick:e=>{s("kana"===o?c.kana:c.jp)}}),null===(t=Object.keys(c))||void 0===t?void 0:t.map((e=>c[e]?(0,i.jsx)("div",{className:"carousel-key".concat(e===o?" carousel-main-key":""),children:e!==o?e+" : "+c[e]:c[e]},e):(0,i.jsx)(i.Fragment,{})))]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{className:"quiz-button",onClick:d,children:"Prev"}),(0,i.jsx)("button",{className:"quiz-button",onClick:y,children:"Close"}),(0,i.jsx)("button",{className:"quiz-button",onClick:h,children:"Next"})]})]})}):(0,i.jsx)(i.Fragment,{})},y=e=>{let{data:t,keys:a,mainKey:n,letter:r,handleCarousel:o}=e;return null===t||void 0===t?void 0:t.map(((e,t)=>(0,i.jsxs)("div",{className:"".concat(r?"letter-":"","list-element"),onClick:()=>o(t,null===e||void 0===e?void 0:e.type),children:[(0,i.jsxs)("div",{className:r?"":"list-main",children:[e[n],(0,i.jsx)(l.cAR,{size:20,onClick:t=>{t.stopPropagation(),s(r?e.kana:e[n])}})]}),a.map((t=>(0,i.jsx)("div",{children:e[t]})))]},t)))},v=e=>{let{heading:t,dataService:a,level:s,mainKey:l,noShowKeys:u,letter:v,dataValues:g}=e;const{data:p,keys:m,typedData:j,loading:f,index:x,currentType:k,handleCarousel:w}=r(a,s,l,u,g);return f?(0,i.jsx)(c.A,{}):(0,i.jsxs)("div",{className:"list",children:[(0,i.jsx)("h1",{className:"list-heading",children:t}),m?j?j.map(((e,t)=>(0,i.jsxs)(n.Fragment,{children:[(0,i.jsx)("h2",{className:"list-heading",children:e.type}),(0,i.jsx)(y,{data:e.data,mainKey:l,letter:v,keys:m,handleCarousel:w})]},t))):(0,i.jsx)(y,{data:p,keys:m,mainKey:l,letter:v,handleCarousel:w}):(0,i.jsx)(d,{}),(0,i.jsx)(o.A,{}),(0,i.jsx)(h,{data:j||p,initialIndex:x,initialType:k,mainKey:l})]})}},154:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(43),r=a(804);const s=()=>{const[e,t]=(0,n.useState)(!0);return(0,n.useEffect)((()=>{const e=()=>{const e=window.pageYOffset||document.documentElement.scrollTop;t(0===e)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),{top:e,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})}}};var l=a(579);const o=()=>{const{top:e,scrollToTop:t}=s();return!e&&(0,l.jsx)(r.yL8,{className:"top-btn quiz-button",onClick:t,size:20})}},641:(e,t,a)=>{a.d(t,{d:()=>n});const n={n5:1,n4:26}}}]);
//# sourceMappingURL=688.f8509c1f.chunk.js.map